(function(b){var d,c,a;a={effect:"fx1",particleWidth:15,particleHeight:15,labelActiveColor:"#fff",particleColorOne:"#006699",particleColorTwo:"#0099cc",timeShiftAnimIn:0.05,timeShiftAnimOut:0.02,selected:false,toggle:false};d={init:function(e){var f={};b.extend(f,a,e);b(window).unload(function(){});return this.each(function(){var n=b(this),m=n.data("lhpDTCB"),k,j,h,l,i,g;if(!m){k={width:n.css("width"),height:n.css("height"),display:n.css("display"),position:n.css("position"),"background-color":n.css("background-color"),"border-radius":n.css("border-radius"),"z-index":n.css("z-index")};f["border-radius"]=f["border-radius"]||n.css("border-radius");f["border-radius"]=parseInt(f["border-radius"]);j=f.width||n.width();i=n.html();g=b("<div />").css("width",j).html(n.html());n.append(g);l=g.height();h=f.height||l;n.empty();n.css({width:j,height:h,display:"block",position:"relative","background-color":f["background-color"],"border-radius":f["border-radius"]});n.data("lhpDTCB",{set:f,tmpCss:k,html:i,sourceHeight:l,selected:false,lastAnimType:""});c.createLayers(n,f);c.addMouseRoll(n);if(f.selected){f.toggle=true;d.select.apply(n)}if(f.toggle){n.data("lhpDTCB").hitLay.bind({"click.lhpTCB":c.clickHandler})}n.data("lhpDTCB").hitLay.bind({"mouseenter.lhpTCB":c.incZindex,"mouseleave.lhpTCB":c.decZindex})}})},destroy:function(){return this.each(function(){var f=b(this),e=f.data("lhpDTCB");if(e){e.hitLay.unbind({"mouseenter.lhpTCB":c.incZindex,"mouseleave.lhpTCB":c.decZindex});c.remMouseClick(f);c.remDisabClick(f);c.remMouseRoll(f);f.empty();f.html(e.html);f.css(e.tmpCss);f.removeData("lhpDTCB")}})},select:function(){return this.each(function(){var g=b(this),f;if(!g.data("lhpDTCB").selected&&g.data("lhpDTCB").set.toggle){f=b.Event("mouseenter",{currentTarget:g.children(".lhpTCB_layerHitArea")});c.animIn(f);c.remMouseRoll(g);g.data("lhpDTCB").selected=true}})},unselect:function(){return this.each(function(){var g=b(this),f;if(g.data("lhpDTCB").selected&&g.data("lhpDTCB").set.toggle){f=b.Event("mouseleave",{currentTarget:g.children(".lhpTCB_layerHitArea")});c.animOut(f);c.addMouseRoll(g);g.data("lhpDTCB").selected=false}})},disabled:function(){return this.each(function(){var e=b(this);e.css("cursor","default");e.data("lhpDTCB").hitLay.css("cursor","default");c.remMouseRoll(e);c.remMouseClick(e);c.addDisabClick(e)})},enabled:function(){return this.each(function(){var e=b(this);e.css("cursor","pointer");e.data("lhpDTCB").hitLay.css("cursor","pointer");c.addMouseRoll(e);c.remDisabClick(e);c.addMouseClick(e)})},isSelect:function(){var e=[];this.each(function(){e.push(b(this).data("lhpDTCB").selected)});return e}};c={createLayers:function(f,n){var g,l,p,e,i,j,r,h,s,q,o,m,k;g={fx1:["C_LR","C_TB"],fx2:["C_LR","TB_C"],fx3:["C_LR","T_B"],fx4:["C_LR","B_T"],fx5:["LR_C","C_TB"],fx6:["LR_C","TB_C"],fx7:["LR_C","T_B"],fx8:["LR_C","B_T"],fx9:["L_R","C_TB"],fx10:["L_R","TB_C"],fx11:["L_R","T_B"],fx12:["L_R","B_T"],fx13:["R_L","C_TB"],fx14:["R_L","TB_C"],fx15:["R_L","T_B"],fx16:["R_L","B_T"]};l=n.effect||"fx1";s=function(u,t){if(u[0]==t[0]){return u[1]-t[1]}else{return u[0]-t[0]}};p=Math.ceil(f.width()/n.particleWidth);e=Math.ceil(f.height()/n.particleHeight);i=b().lhpUtilsOrderLinearAlgorithms("build",p,e,g[l][0],g[l][1]);j=i.v.length+i.h.length;r=b().lhpUtilsOrderGenerator("build",i.v,i.h,(n.timeShiftAnimIn*(7/j)),"VER_PRIO");r.sort(s);i=b().lhpUtilsOrderLinearAlgorithms("build",p,e,"LR_C","TB_C");h=b().lhpUtilsOrderGenerator("build",i.v,i.h,(n.timeShiftAnimOut*(7/j)),"VER_PRIO");h.sort(s);q=c.createParticleLayer(1,f,n.particleColorOne,n.particleWidth,n.particleHeight,n["border-radius"],r,h,p,e);f.data("lhpDTCB").layer0=q;o=c.createParticleLayer(2,f,n.particleColorTwo,n.particleWidth,n.particleHeight,n["border-radius"],r,false,p,e);f.data("lhpDTCB").layer1=o;m=c.createLabelLayer(f,n.labelInactiveColor,n.labelActiveColor);f.data("lhpDTCB").labelLayerWrapper=m;k=c.createHitAreaLayer(f);f.data("lhpDTCB").hitLay=k},createParticleLayer:function(q,f,h,m,r,g,w,v,l,u){var p,x,t,s,j,o,n,e;e={TL:0,TR:(u*l-u),BR:(u*l-1),BL:(u-1)};p=b("<div />").css({width:f.width(),height:f.height(),position:"absolute",top:0,left:0,"z-index":q});p.addClass("lhpTCB_layer"+q);j={width:0,height:0,"background-color":h,position:"absolute"};for(t=0,s=w.length;t<s;t++){o=(w[t][0]-1)*m+m/2;n=(w[t][1]-1)*r+r/2;j.left=o;j.top=n;x=b("<div />").css(j);x.data({animInTime:w[t][2],left:o,top:n});if(v){x.data({animOutTime:v[t][2]})}if(g){if(t==e.TL){x.css("border-top-left-radius",g)}if(t==e.TR){x.css("border-top-right-radius",g)}if(t==e.BR){x.css("border-bottom-right-radius",g)}if(t==e.BL){x.css("border-bottom-left-radius",g)}}p.append(x)}f.prepend(p);return p},createLabelLayer:function(f,j,l){var i,e=b("<div />"),k=b("<div />"),g=f.width(),n=f.height(),h=f.data("lhpDTCB").sourceHeight,m=f.data("lhpDTCB").html;i=b("<div />").css({overflow:"hidden",position:"absolute",top:0,left:0,width:g,height:n,zIndex:3});i.addClass("lhpTCB_layerLabelWrapper");b("<div />").appendTo(i).css({position:"absolute",top:0,left:0,width:g,height:2*n}).append(e.css({color:j,position:"absolute",left:0,top:(n-h)/2,width:g,"text-align":"center"}).html(m)).append(k.css({color:l,position:"absolute",left:0,top:n+(n-h)/2,width:g,"text-align":"center"}).html(m));f.prepend(i);return i},createHitAreaLayer:function(e){var f=b("<div />").css({background:"#000",opacity:0,cursor:"pointer",position:"absolute",top:0,left:0,width:e.width(),height:e.height(),zIndex:4});f.addClass("lhpTCB_layerHitArea");e.prepend(f);return f},addMouseRoll:function(e){c.remMouseRoll(e);e.data("lhpDTCB").hitLay.bind({"mouseenter.lhpTCB":c.animIn,"mouseleave.lhpTCB":c.animOut})},remMouseRoll:function(e){e.data("lhpDTCB").hitLay.unbind({"mouseenter.lhpTCB":c.animIn,"mouseleave.lhpTCB":c.animOut})},remMouseClick:function(e){e.data("lhpDTCB").hitLay.unbind({"click.lhpTCB":c.clickHandler})},addMouseClick:function(e){if(e.data("lhpDTCB").set.toggle){c.remMouseClick(e);e.data("lhpDTCB").hitLay.bind({"click.lhpTCB":c.clickHandler})}},remDisabClick:function(e){e.data("lhpDTCB").hitLay.unbind({"click.lhpTCB":c.clickDisabledHandler})},addDisabClick:function(e){c.remDisabClick(e);e.data("lhpDTCB").hitLay.unbind({"click.lhpTCB":c.clickDisabledHandler}).bind({"click.lhpTCB":c.clickDisabledHandler})},incZindex:function(f){var e=b(f.currentTarget).parent();e.css({"z-index":9999})},decZindex:function(f){var e=b(f.currentTarget).parent();e.css({"z-index":e.data("lhpDTCB").tmpCss["z-index"]})},animIn:function(e){var f=b(e.currentTarget).parent(),h,n=f.data("lhpDTCB").set,k,l,i=n.particleWidth,g=n.particleHeight,m,j=0;if(f.data("lhpDTCB").lastAnimType!=="in"){f.data("lhpDTCB").layer0.children().each(function(){h=b(this);m=h.data("timeOut");if(m){clearTimeout(m)}h.clearQueue().stop().css({width:i*0.3,height:g*0.3,marginLeft:-i/2*0.3,marginTop:-g/2*0.3,opacity:0.3});m=setTimeout((function(p,q,o){return function(){p.animate({width:q*1.2,height:o*1.2,marginLeft:-q/2*1.2,marginTop:-o/2*1.2},{duration:300}).animate({width:q,height:o,marginLeft:-q/2,marginTop:-o/2,opacity:1},{duration:600})}})(h,i,g),h.data("animInTime")*1000);h.data({timeOut:m});j=Math.max(j,300+h.data("animInTime")*1000)});f.data("lhpDTCB").hideBgColorTimeout=setTimeout((function(o){return function(){o.css("background","none")}})(f),600+j);f.data("lhpDTCB").layer1.show().children().each(function(){h=b(this);k=h.data("top")+(Math.random()*80-40);l=k+(Math.random()*80-40);m=h.data("timeOut");if(m){clearTimeout(m)}h.clearQueue().stop().css({width:0,height:0,marginLeft:0,marginTop:0,opacity:1,top:k});m=setTimeout((function(p,q,r,o){return function(){p.animate({width:r,height:o,marginLeft:-r/2,marginTop:-o/2,top:q},{duration:300,easing:"easeOutQuad"}).animate({top:p.data("top")},{duration:300,easing:"easeInQuad"}).animate({opacity:0},{duration:600})}})(h,l,i,g),j+h.data("animInTime")*1000);h.data({timeOut:m})});f.data("lhpDTCB").labelLayerWrapper.children().clearQueue().stop().css({top:0}).animate({top:-f.height()},{duration:800,easing:"easeInOutBack"});f.data("lhpDTCB").lastAnimType="in"}},animOut:function(h){var g=b(h.currentTarget).parent(),i,k=g.data("lhpDTCB").set,j=k.particleWidth,f=k.particleHeight,e;if(g.data("lhpDTCB").lastAnimType!=="out"){clearTimeout(g.data("lhpDTCB").hideBgColorTimeout);g.css("background",k["background-color"]);g.data("lhpDTCB").layer0.children().each(function(){i=b(this);e=i.data("timeOut");if(e){clearTimeout(e)}i.clearQueue().stop().css({width:j,height:f,marginLeft:-j/2,marginTop:-f/2,opacity:1});e=setTimeout((function(l){return function(){l.animate({width:0,height:0,marginLeft:0,marginTop:0,opacity:0},{duration:500})}})(i),i.data("animOutTime")*1000);i.data({timeOut:e})});g.data("lhpDTCB").layer1.hide().children().each(function(){i=b(this);e=i.data("timeOut");if(e){clearTimeout(e)}i.clearQueue().stop()});g.data("lhpDTCB").labelLayerWrapper.children().clearQueue().stop().css({top:-g.height()}).animate({top:0},{duration:500,easing:"easeOutBack"});g.data("lhpDTCB").lastAnimType="out"}},clickHandler:function(f){var e=b(f.currentTarget).parent();f.preventDefault();if(e.data("lhpDTCB").selected){d.unselect.apply(e)}else{d.select.apply(e)}},clickDisabledHandler:function(e){e.preventDefault();e.stopPropagation()}};b.fn.lhpTwoColorButton=function(e){if(d[e]){return d[e].apply(this,Array.prototype.slice.call(arguments,1))}else{if(typeof e==="object"||!e){return d.init.apply(this,arguments)}else{b.error("Method "+e+" does not exist on jQuery.lhpTwoColorButton")}}};b(document).ready(function(){var e=b("").css({position:"absolute",display:"none",background:"#333",color:"#ffc600","z-index":10000,padding:"5px"});b(document).mousemove(function(f){e.css({top:f.pageY-40,left:f.pageX+20})});b("a").not(":contains('source')").bind({mouseenter:function(){e.css({display:"block",opacity:0}).clearQueue().stop().animate({opacity:0},{duration:2000}).animate({opacity:1},{duration:500})},mouseleave:function(){e.clearQueue().stop().animate({opacity:0},{duration:100,complete:function(){b(this).css({display:"none"})}})}});b("body").append(e)})})(jQuery);(function(a){var d,b,c={};d={build:function(g,h,f,e){c.tileVerticalOrder=g||[];c.tileHorizontalOrder=h||[];c.shftTime=f||1;c.priority=e||"HOR_PRIO";return b.setTileOrderStep2(b.setTileOrderStep1())}};b={setTileOrderStep1:function(){var g=[],f,e,h;f=(c.priority==="HOR_PRIO")?c.shftTime:c.shftTime*c.tileVerticalOrder.length;for(e=0;e<c.tileHorizontalOrder.length;e++){if(a.isArray(c.tileHorizontalOrder[e])){for(h=0;h<c.tileHorizontalOrder[e].length;h++){g.push([c.tileHorizontalOrder[e][h],f*e])}}else{g.push([c.tileHorizontalOrder[e],f*e])}}return g},setTileOrderStep2:function(l){var h=[],g,e,f,j;g=(c.priority==="HOR_PRIO")?c.shftTime*c.tileHorizontalOrder.length:c.shftTime;for(e=0;e<l.length;e++){for(f=0;f<c.tileVerticalOrder.length;f++){if(a.isArray(c.tileVerticalOrder[f])){for(j=0;j<c.tileVerticalOrder[f].length;j++){h.push([l[e][0],c.tileVerticalOrder[f][j],l[e][1]+g*f])}}else{h.push([l[e][0],c.tileVerticalOrder[f],l[e][1]+c.shftTime*f])}}}return h}};a.fn.lhpUtilsOrderGenerator=function(e){if(d[e]){return d[e].apply(this,Array.prototype.slice.call(arguments,1))}else{a.error("Method "+e+" does not exist on jQuery.lhpUtilsOrderGenerator")}}})(jQuery);(function(a){var c,b;c={build:function(i,f,e,g){var h=[],d=[];switch(e){case"L_R":h=b.leftRight_or_topBottom(i);break;case"R_L":h=b.rightLeft_or_bottomTop(i);break;case"C_LR":h=b.centerToEdge(i);break;case"LR_C":h=b.edgeToCenter(i);break;default:h=b.leftRight_or_topBottom(i);break}switch(g){case"T_B":d=b.leftRight_or_topBottom(f);break;case"B_T":d=b.rightLeft_or_bottomTop(f);break;case"C_TB":d=b.centerToEdge(f);break;case"TB_C":d=b.edgeToCenter(f);break;default:d=b.leftRight_or_topBottom(f);break}return{h:h,v:d}}};b={leftRight_or_topBottom:function(d){var f=[],e;for(e=1;e<=d;e++){f.push(e)}return f},rightLeft_or_bottomTop:function(d){var f=[],e;for(e=d;e>0;e--){f.push(e)}return f},centerToEdge:function(d){var f=[],e;if(d%2){f.push(Math.ceil(d/2))}for(e=Math.floor(d/2);e>0;e--){f.push([e,d-e+1])}return f},edgeToCenter:function(d){var f=[],g,e;if(d%2){g=Math.ceil(d/2)}for(e=1;e<=d;e++){if(g&&e===g){f.push(g);break}else{if(e>d/2){break}}f.push([e,d-e+1])}return f}};a.fn.lhpUtilsOrderLinearAlgorithms=function(d){if(c[d]){return c[d].apply(this,Array.prototype.slice.call(arguments,1))}else{a.error("Method "+d+" does not exist on jQuery.lhpUtilsOrderLinearAlgorithms")}}})(jQuery);